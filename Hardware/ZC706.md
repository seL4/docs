---
cmake_plat: zynq7000
xcompiler_arg: -DAARCH32=1
arm_hardware: true
defconfig: zynq7000_debug_xml_defconfig
simulation_target: true
simulation_only: false
platform: Zynq-7000 ZC706 Evaluation Kit
arch: ARMv7A
virtualization: false
iommu: false
soc: Zynq7000
cpu: Cortex-A9
Status: "Verified"
verified: zynq7000
Contrib: Data61
Maintained: seL4 Foundation
parent: /Hardware/
SPDX-License-Identifier: CC-BY-SA-4.0
SPDX-FileCopyrightText: 2020 seL4 Project a Series of LF Projects, LLC.
---

# Zynq7000

This board is a Zynq-7000 ZC706 Evaluation Kit, Rev 1.2

{% include hw-info.html %}

Xilinx maintains [online material](https://www.amd.com/en/products/adaptive-socs-and-fpgas/evaluation-boards/ek-z7-zc706-g.html), including designs and documentation.

## Building

### seL4test

{% include sel4test.md %}


## Development environment

### Vivado SDK

Bitstream generation (ie FPGA code compiler) is not supported for ZC706 when using a free license. Other features may still work

The Vivado SDK provides many features:

- first stage boot loader and boot image generation
- FPGA logic design
- ARM software design
- Support libraries
- JTAG connectivity and debugging

Download it [here](http://www.xilinx.com/support/download.html) (Requires a free Xilinx account).

After the download completes, extract and/or run the install program. You should run as root to install cable drivers, otherwise, they can be installed independently later.

When provided with install options, select "Vivado Design Edition" because the WebPack install does not support the ZC706 board. Ensure the Software Development Kit (SDK) is selected as an install candidate

When installation competes, the License Manager window will open. Choose "obtain license" from the tree on the left, select "Get Free Licenses" and click "Connect Now". You will be navigated to the Xilinx login page in order to register for a license. Select the free webpack license and a license file will be mailed to you. While still in the License Manager, click "Load License" from the tree on the left and click the "Copy License" button. Select the license file that you received via email and click "Open". Once you have configured your license, close the window and wait for the install to finish.

The last step is to install the cable drivers as follows:

```bash
uname -a | grep "x86_64" && LIN=lin64 || LIN=lin
cd /opt/Xilinx/SDK/2014.4/data/xicom/cable_drivers/$LIN/install_script/install_drivers
sudo ./install_drivers
```

### JTAG

[http://wiki.gentoo.org/wiki/Xilinx_USB_JTAG_Programmers](http://wiki.gentoo.org/wiki/Xilinx_USB_JTAG_Programmers)

You will need

- xmd (shipped with vivado but can possibly be obtained as a package on its own)
- digilent USB drivers

1. create a xmd.ini script within the directory that you intend to run xmd from.

   ```bash
     # Connect to the board
     connect arm hw
     # program the fpga with the provided bitstream
     fpga -f system_wrapper.bit
     # The processor needs to be initialised (Clocks, MIO, etc), but these depend on the bitstream! ps7_init.tcl was generated with the bitstream. Load and execute this script to configure the processor.
     source ps7_init.tcl
     ps7_init
     ps7_post_config
     # Download your elf file (Could also be done from GDB)
     dow bootimg.elf
     # To run the elf file directly from XMD, uncomment the following lines
     # run
     # exit
   ```

2. Run XMD. XMD will not terminate; leave it open.
3. Next run GDB. Any arm-*-gdb should work.
4. Enter "tar ext localhost:1234" to connect to the GDB server that was started by XMD or the hw_server
5. "c" to start the program!
