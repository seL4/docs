<!DOCTYPE html>
<!--
     SPDX-License-Identifier: CC-BY-SA-4.0
     SPDX-FileCopyrightText: 2020 seL4 Project a Series of LF Projects, LLC.
-->
<!-- Page last generated 2025-05-21 03:29:49 +0000 -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>seL4 11.0.x-compatible | seL4 docs</title>

    <!-- Our stylesheet and theme stylesheet.  Contains bootstrap. -->
    <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
    <!-- Font awesome -->
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <!-- Pygments syntax highlighting  -->
    <link rel="stylesheet" href="/assets/css/highlighting/trac.css" type="text/css">
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico"><script defer data-domain="docs.sel4.systems"
	    src="https://analytics.sel4.systems/js/script.js"></script></head>

  <body class="container-fluid">

    



<header>
  <ul class="row menu">
    <li class="col-xs-12 col-md-2" >
            <a href="https://sel4.systems" class="skip-icon">
              <img class="img-responsive" src="/assets/logo-text-white.svg" alt="seL4 logo" />
            </a>
    </li>
    <li class="col-xs-12 col-md-10 menu">
      <nav aria-label="Banner links">
        <h2><a href="/Resources">Resources</a></h2>
        <h2><a href="https://sel4.systems/Contribute/">Contributing</a></h2>
        <h2><a href="/projects">Projects</a></h2>
        <h2><a href="/Tutorials">Tutorials</a></h2>
        <iframe title="DuckDuckGo search bar" src="https://duckduckgo.com/search.html?site=docs.sel4.systems&prefill=Search%20sel4.systems" style="overflow:hidden;margin-bottom:10px; padding:0;height:40px;float:right;border-width: 0px"></iframe>
      </nav>
    </li>
  </ul>
  <div class="clear"></div>
  
<div class="breadcrumbs bootstrap hidden-sm-down">
  <nav class="sel-breadcrumb" aria-label="Breadcrumb" >
    <ol class=" list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">
      
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/">
              <span property="name"><b>seL4 Docs</b></span>
            </a>
            <meta property="position" content="1" />
        </li>
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/updates/sel4test">
              <span property="name"><b>seL4test Recent Updates</b></span>
            </a>
            <meta property="position" content="2" />
        </li>
      
        

        
          <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <span property="name">seL4 11.0.x-compatible</span>
            <meta property="position" content="3" /></li>
          
    </ol>
  </nav>
  <nav class="sel-version" aria-label="Current Versions">
    <ol class="list-unstyled">
      <li class="list-unstyled text-right" style="margin-left:auto; padding:0rem 0rem;">
        Current versions:</li>
      <li class="list-unstyled text-right">
      <a href="/releases/sel4/13.0.0"><b>seL4-13.0.0</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/releases/microkit/2.0.1"><b>microkit-2.0.1</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/releases/camkes/camkes-3.11.0"><b>camkes-3.11.0</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/releases/capdl/0.3.0"><b>capDL-0.3.0</b></a></li>
      </ol>
  </nav>
  <div class='clear'></div>
</div>


</header>

    <main>
      <div class="row">
  <div class="hidden-xs col-sm-4 col-md-3 col-lg-2">
    


<div class="sidebar">
















</div>

  </div>
  <div class="content col-sm-8 col-md-6 col-lg-7 main">
    <h1 id="updates-to-sel4test-from-sel4-101x-to-110x">Updates to seL4Test from seL4 10.1.x to 11.0.x</h1>

<h2 id="external">External</h2>

<ul>
  <li>List valid platforms if invalid platform is provided in build configuration.</li>
  <li>Add <code class="language-plaintext highlighter-rouge">IPCRIGHTS</code> tests for master and mcs to test new <code class="language-plaintext highlighter-rouge">grantreply</code> access right:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">IPCRIGHTS0001</code>, “seL4_Send needs write”</li>
      <li><code class="language-plaintext highlighter-rouge">IPCRIGHTS0002</code>, “seL4_Recv needs read”</li>
      <li><code class="language-plaintext highlighter-rouge">IPCRIGHTS0003</code>, “seL4_Send with caps needs grant”</li>
      <li><code class="language-plaintext highlighter-rouge">IPCRIGHTS0004</code>, “seL4_Call needs grant or grant-reply”</li>
      <li><code class="language-plaintext highlighter-rouge">IPCRIGHTS0005</code>, “seL4_Reply grant depends of the grant of previous seL4_Recv”</li>
    </ul>
  </li>
  <li>add test <code class="language-plaintext highlighter-rouge">UNKNOWN_SYSCALL_001</code>, “Test seL4_VMEnter in a non-vm thread” to check cannot enter VM in no-vm thread on x86.</li>
  <li>Added tests for maximum ASID pools usage:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">VSPACE0003</code>, “Test create multiple ASID pools”</li>
      <li><code class="language-plaintext highlighter-rouge">VSPACE0004</code>, “Test running out of ASID pools”</li>
      <li><code class="language-plaintext highlighter-rouge">VSPACE0005</code>, “Test overassigning ASID pool”</li>
      <li><code class="language-plaintext highlighter-rouge">VSPACE0006</code>, “Test touching all available ASID pools”</li>
    </ul>
  </li>
  <li>Add griddle support to sel4test via <code class="language-plaintext highlighter-rouge">easy-settings.cmake</code> file.</li>
  <li>Re-enable serial_server tests on RISC-V with addition of userlevel serial driver.</li>
  <li>Change timeout time for <code class="language-plaintext highlighter-rouge">PREEMPT_REVOKE</code> to make test more robust.</li>
  <li>Added tests to check IRQ routing:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">SMPIRQ0001</code>, “Test multicore irqs”</li>
    </ul>
  </li>
  <li>Enable TLS tests for RISC-V as they are now supported.</li>
  <li>Change RISC-V bad instruction value to <code class="language-plaintext highlighter-rouge">0xffffffff</code> in fault tests. This change was motivated by some simulators not
  trapping <code class="language-plaintext highlighter-rouge">0x00000000</code> or <code class="language-plaintext highlighter-rouge">0x0000</code> as invalid instructions.</li>
  <li>Enable timer tests on RISC-V.</li>
  <li>Disable flaky <code class="language-plaintext highlighter-rouge">SCHED0000</code> on RISCV.</li>
  <li>Update vspace test to support 40 bit PAs</li>
  <li>add <code class="language-plaintext highlighter-rouge">NUM_NODES</code> to override <code class="language-plaintext highlighter-rouge">KernelMaxNumNodes</code>.
  This allows users to pass NUM_NODES on the command line to an init-build
  invocation and override the default of <code class="language-plaintext highlighter-rouge">4</code> cores when <code class="language-plaintext highlighter-rouge">SMP=ON</code>. Example:
  <code class="language-plaintext highlighter-rouge">../init-build.sh -DPLATFORM=imx8mq-evk -DAARCH32=1 -DSMP=1 -DNUM_NODES=2</code></li>
  <li>Disable device mem tests for spike.</li>
  <li>Change frame tests to not try and steal timer device frame from runtime and instead request device frames
more reliably.</li>
  <li>set <code class="language-plaintext highlighter-rouge">Sel4testHaveTimer</code> and <code class="language-plaintext highlighter-rouge">Sel4testHaveCache</code> options to advanced if <code class="language-plaintext highlighter-rouge">Sel4testAllowSettingsOverride</code> is not set.
Otherwise any changes to these settings will get overridden.</li>
  <li>Set <code class="language-plaintext highlighter-rouge">SEL4_CONFIG_DEFAULT_ADVANCED=On</code>. This will cause most CMake config options to be hidden apart from ones
expected to be changed.</li>
  <li>Add MCS option for configuring <code class="language-plaintext highlighter-rouge">KernelIsMCS</code>. <code class="language-plaintext highlighter-rouge">-DMCS=ON</code> will enable MCS configurations and <code class="language-plaintext highlighter-rouge">-DMCS=OFF</code> will use mainline
  configurations.</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">Remap</code> and use <code class="language-plaintext highlighter-rouge">Map</code> instead in mapping tests due to kernel API change.</li>
  <li>RISCV: Disable huge page test for Ariane</li>
  <li><code class="language-plaintext highlighter-rouge">MULTICORE0003</code>: Extend to test different VSpaces.
  On x86 the kernel was only performing TLB cross-core invalidation if the
  VSpace that was being unmapped was running on the current core.  This
  means that if a core unmaps a page from a different VSpace running on a
  different core then the cross-core invalidation wouldn’t happen.
  We extend <code class="language-plaintext highlighter-rouge">MULTICORE0003</code> to test unmapping from different VSpaces as well
  as the same VSpace. We also now repeat the test a few times for if a
  kernel timer IRQ is received during any of them leading to a false
  success.</li>
</ul>

<h2 id="internal">Internal</h2>

<ul>
  <li>Correctly initialize clocks for exynos5422 serial driver</li>
  <li>Improve test <code class="language-plaintext highlighter-rouge">SCHED0011</code>: compare timestamps in nanoseconds not microseconds to improve accuracy.
Use period value instead as wait time instead of assuming 1s.</li>
  <li>Switch to new <code class="language-plaintext highlighter-rouge">libelf</code> and <code class="language-plaintext highlighter-rouge">libcpio</code> API</li>
  <li>Style source files.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">seL4runtime</code>.</li>
  <li>Refactor build scripts to keep up to date with build system changes.</li>
  <li>Refactor object allocation to use <code class="language-plaintext highlighter-rouge">libsel4rpc</code> to dynamically allocate additional resources
instead of trying to preallocate everything.</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">autoconf.h</code> and global <code class="language-plaintext highlighter-rouge">Configuration</code> library usage.</li>
  <li>Add memory barriers in <code class="language-plaintext highlighter-rouge">SCHED0004</code> to prevent spurious failures.</li>
  <li>Use custom IRQ handler allocation function in IRQ allocation so that some tests may borrow the
caps.</li>
  <li>Rename <code class="language-plaintext highlighter-rouge">CONFIG_KERNEL_RT</code> to <code class="language-plaintext highlighter-rouge">CONFIG_KERNEL_MCS</code></li>
  <li><code class="language-plaintext highlighter-rouge">MULTICORE0003</code>: Reduce wait time to limit timer IRQ. This makes the test more reliable.</li>
</ul>


  </div>







  
  
<div class="sidebar-toc hidden-xs hidden-sm col-md-3 col-lg-3">
  
    <ul class="section-nav">
    	<h2> seL4Test </h2> 
        <li>
          
          <a style="" class="" href="/projects/sel4test/">
            Documentation homepage
          </a>
        </li>








        <li>
          
          <a style="" class="" href="/projects/sel4test/status.html">
            Status
          </a>
        </li>










    
        <h3>Repositories</h3>
    
        <li>
          <a class="" href="https://github.com/sel4/sel4test">
            sel4test
          </a>
        </li>

    
        <li>
          <a class="" href="https://github.com/sel4/sel4test-manifest">
            sel4test-manifest
          </a>
        </li>









  







    
        <h3>Recent Updates</h3>
    
        <li>
          <a style=" font-weight: bold; " href="/updates/sel4test/11.0.x.html">
            seL4 11.0.x-compatible
          </a>
        </li>

    </ul>

</div>


</div>

    </main>
    


<footer class="site-footer">

  <h2 class="footer-heading">seL4 docs</h2>

  <div class="footer-col-wrapper">

    <div class="col-md-2">
      



<ul class="social-media-list">
  <li><a href="https://github.com/sel4"><i class="fab fa-github"></i> <span class="username">sel4</span></a></li><li><a href="https://github.com/sel4proj"><i class="fab fa-github"></i> <span class="username">sel4proj</span></a></li>
</ul>

    </div>

    <div class="col-md-8">
      <ul class="list-unstyled">
        <li>
          This site is for displaying seL4 related documentation.  Pull requests are welcome.
        </li>
        
          <li>
            Site last updated: Tue May 6 20:16:12 2025 +1000 cb1dc35a33
          </li>
          <li>
          </li>
        
      </ul>
    </div>
    <div class="col-md-2">
<a href="https://github.com/seL4/docs/blob/master/content_collections/_updates/sel4test/11.0.x.md">View page on GitHub</a>
      <br />
      <a href="https://github.com/seL4/docs/edit/master/content_collections/_updates/sel4test/11.0.x.md">Edit page on GitHub</a>
      <br />
      <a href="/sitemap">Sitemap</a>
    </div>

  </div>

</footer>

  </body>
</html>
